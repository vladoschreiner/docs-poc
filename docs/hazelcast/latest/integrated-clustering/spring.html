<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Integration with Spring Documentation</title>
    <link rel="canonical" href="https://jakescahill.github.io/docs-poc/hazelcast/latest/integrated-clustering/spring.html">
    <link rel="prev" href="javaee.html">
    <link rel="next" href="../storage/storage.html">
    <meta name="generator" content="Antora 2.3.4">
<link rel="stylesheet" href="../../../_/css/site.css">
<link
rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
/>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'GTM-M267KFN', 'auto')
ga('send', 'pageview')
</script>
<!-- End Google Analytics -->
<script src="https://kit.fontawesome.com/097f7829d8.js" crossorigin="anonymous"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://jakescahill.github.io/docs-poc"><img src="../../../_/img/hazelcast-logo.svg"></img></a>
      <a class="navbar-item" id="documentation-header" href="https://jakescahill.github.io/docs-poc">Documentation</img></a>
            <div class="navbar-item">
                <input id="search-input" type="text" placeholder="Search docs">
                <a id="search-open" ><i class="fa fa-search" aria-hidden="true"></i></a>
                <a id="search-close"><i class="fa fa-times"  aria-hidden="true"></i></a>
            </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://jakescahill.github.io/docs-poc/home/index.html">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products<img class="dropdown-caret" src="../../../_/img/caret-blue.svg"></img></a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://hazelcast.org/platform/">Hazelcast Cloud</a>
            <a class="navbar-item" href="https://hazelcast.org/imdg/">Hazelcast IMDG</a>
            <a class="navbar-item" href="https://jet-start.sh">Hazelcast Jet</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Learn<img class="dropdown-caret" src="../../../_/img/caret-blue.svg"></img></a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://jakescahill.github.io/docs-poc/home/index.html">Docs</a>
            <a class="navbar-item" href="https://training.hazelcast.com/">Online Training</a>
            <a class="navbar-item" href="https://hazelcast.com/resources/mastering-hazelcast/">Mastering Hazelcast eBook</a>
            <a class="navbar-item" href="https://hazelcast.org/resources/">Search All Resources</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources<img class="dropdown-caret" src="../../../_/img/caret-blue.svg"></img></a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://hazelcast.org/hub/">Integration Hub</a>
            <a class="navbar-item" href="https://hazelcast.org/use-cases/">Use Cases</a>
            <a class="navbar-item" href="https://hazelcast.org/community/">Community</a>
            <a class="navbar-item" href="https://hazelcast.org/blog/">Blog</a>
          </div>
        </div>
        <div class="navbar-item">
          <a href="https://hazelcast.com/get-started/"><img class="nav-button" src="../../../_/img/nav-button.svg"></img></a>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="hazelcast" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Hazelcast IMDG</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Hazelcast IMDG Reference Manual</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting-started.html">Quickstart</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../overview/hazelcast-overview.html">Overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview/what-is-imdg.html">What is Hazelcast IMDG?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview/topology.html">Topology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview/data-partitioning.html">Data Partitioning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview/use-cases.html">Use Cases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview/resources.html">Resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../installation/installing-upgrading.html">Installing and Upgrading</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/installing-using-cli.html">CLI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/installing-using-maven.html">Maven</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/installing-using-docker.html">Docker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/installing-using-download-archives.html">Download Archives</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/deploying-hazelcast-cloud.html">Hazelcast Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/deploying-in-kubernetes.html">Kubernetes/OpenShift Deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/deploying-in-vmware-tanzu.html">Deploying in VMware Tanzu</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/deploying-in-cloud.html">Deploying in Cloud Providers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/using-enterprise-edition.html">Using Pro and Enterprise editions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/rolling-upgrades.html">Rolling Member Upgrades</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/running-in-modular-java.html">Running in Modular Java</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installation/supported-jvms.html">Supported Java Virtual Machines</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../starting-members-clients.html">Starting the Members and Clients</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../configuration/understanding-configuration.html">Understanding Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/configuring-declaratively.html">Configuring Declaratively</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/configuring-programmatically.html">Configuring Programmatically</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/configuring-with-system-properties.html">Configuring with System Properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/configuring-within-spring.html">Configuring within the Spring Context</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/overriding-configuration-settings.html">Overriding Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/dynamic-data-structure-configuration.html">Dynamically Adding Data Structure Configuration on a Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/checking-configuration.html">Checking Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/pattern-matcher.html">Configuration Pattern Matcher</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/using-wildcards.html">Using Wildcards</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/using-variables.html">Using Variables</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/variable-replacers.html">Variable Replacers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../clusters/setting-up-clusters.html">Setting Up Clusters</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/discovery-mechanisms.html">Discovery Mechanisms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/discovering-by-auto-detection.html">Discovering Members by Auto Detection</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/discovering-by-tcp.html">Discovering Members by TCP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/discovering-by-multicast.html">Discovering Members by Multicast</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/discovering-native-clients.html">Discovering Native Clients</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/creating-clusters.html">Creating Clusters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/deploying-code-on-member.html">Deploying User Code on the Member</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/deploying-code-from-clients.html">Deploying User Code from Clients</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/accessing-domain-objects.html">Accessing Domain Objects without Domain Classes - BETA</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/partition-group-configuration.html">Partition Group Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/logging-configuration.html">Logging Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/network-configuration.html">Other Network Configurations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/failure-detector-configuration.html">Failure Detector Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clusters/advanced-network-configuration.html">Advanced Network Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../data-structures/distributed-data-structures.html">Distributed Data Structures</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/overview.html">Overview of Hazelcast Distributed Objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/map.html">Map</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/queue.html">Queue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/priority-queue.html">Priority Queue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/multimap.html">MultiMap</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/set.html">Set</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/list.html">List</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/ringbuffer.html">Ringbuffer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/topic.html">Topic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/reliable-topic.html">Reliable Topic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/fencedlock.html">FencedLock</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/iatomiclong.html">IAtomicLong</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/isemaphore.html">ISemaphore</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/iatomicreference.html">IAtomicReference</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/icountdownlatch.html">ICountDownLatch</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/pn-counter.html">PN Counter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/flake-id-generator.html">Flake ID Generator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/replicated-map.html">Replicated Map</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/cardinality-estimator-service.html">Cardinality Estimator Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data-structures/event-journal.html">Event Journal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../events/distributed-events.html">Distributed Events</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../events/cluster-events.html">Cluster Events</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../events/object-events.html">Distributed Object Events</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../events/event-listeners-for-clients.html">Event Listeners for Hazelcast Clients</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../events/global-event-configuration.html">Global Event Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../hazelcast-jet.html">Hazelcast Jet</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../computing/distributed-computing.html">Distributed Computing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../computing/executor-service.html">Executor Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../computing/durable-executor-service.html">Durable Executor Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../computing/scheduled-executor-service.html">Scheduled Executor Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../computing/entry-processor.html">Entry Processor</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../sql/distributed-sql.html">SQL</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sql/querying-imap.html">Querying IMap</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sql/data-types.html">Data Types</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sql/select-statement.html">SELECT</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sql/expressions.html">Expressions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sql/lite-members.html">Lite Members</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sql/how-distributed-sql-works.html">How Distributed SQL Works</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sql/sql-and-high-density-memory.html">SQL on Data Structures Backed by High-Density Memory Store</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../query/distributed-query.html">Distributed Query</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../query/how-distributed-query-works.html">How Distributed Query Works</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../query/custom-attributes.html">Custom Attributes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../query/aggregations.html">Aggregations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../query/projections.html">Projections</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../query/continuous-query-cache.html">Continuous Query Cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../query/mapreduce-deprecation-and-removal.html">MapReduce Deprecation and Removal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cp-subsystem/cp-subsystem.html">CP Subsystem</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cp-subsystem/discovery-process.html">CP Discovery Process</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cp-subsystem/persistence.html">CP Subsystem Persistence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cp-subsystem/member-shutdown.html">CP Member Shutdown</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cp-subsystem/fault-tolerance.html">CP Subsystem&#8217;s Fault Tolerance Capabilities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cp-subsystem/listeners.html">CP Subsystem Listeners</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cp-subsystem/sessions.html">CP Sessions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cp-subsystem/fencedlock.html">FencedLock</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cp-subsystem/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cp-subsystem/unsafe-mode.html">CP Subsystem Unsafe Mode</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cp-subsystem/management.html">CP Subsystem Management</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../transactions/transactions.html">Transactions</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transactions/creating-a-transaction-interface.html">Creating a Transaction Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transactions/providing-xa-transactions.html">Providing XA Transactions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../jcache/jcache.html">Hazelcast JCache</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jcache/overview.html">JCache Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jcache/setup.html">JCache Setup and Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jcache/providers.html">JCache Providers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jcache/api.html">JCache API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jcache/api.html">JCache API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jcache/hazelcast-integration.html">JCache - Hazelcast Instance Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jcache/icache.html">Hazelcast JCache Extension - ICache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jcache/tck.html">Testing for JCache Specification Compliance</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="integrated-clustering.html">Integrated Clustering</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="hibernate-second-level-cache.html">Integration with Hibernate Second Level Cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="web-session-replication.html">Web Session Replications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="javaee.html">Integration with Java EE</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="spring.html">Integration with Spring</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../storage/storage.html">Storage</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../storage/high-density-memory.html">High-Density Memory Store</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../storage/sizing-practices.html">Sizing Practices</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../storage/hot-restart-persistence.html">Hot Restart Persistence</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../striim-cdc.html">Database CDC Integration Using Striim Hot Cache</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../clients/hazelcast-clients.html">Hazelcast Clients</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clients/java.html">Java Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clients/cplusplus.html">C++ Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clients/dotnet.html">.NET Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clients/rest.html">REST Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clients/memcache.html">Memcache Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clients/python.html">Python Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clients/nodejs.html">Node.js Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../clients/go.html">Go Client</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../serialization/serialization.html">Serialization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../serialization/interface-types.html">Serialization Interface Types</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../serialization/comparing-interfaces.html">Comparing Serialization Interfaces</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../serialization/implementing-java-serializable.html">Implementing Java Serializable and Externalizable</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../serialization/implementing-dataserializable.html">Implementing DataSerializable</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../serialization/implementing-portable-serialization.html">Implementing Portable Serialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../serialization/custom-serialization.html">Custom Serialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../serialization/global-serializer.html">Global Serializer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../serialization/implementing-hazelcastinstanceaware.html">Implementing HazelcastInstanceAware</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../serialization/untrusted-deserialization-protection.html">Untrusted Deserialization Protection</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../serialization/serialization-configuration.html">Serialization Configuration Wrap-Up</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../management/management.html">Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/member-statistics.html">Getting Member Statistics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/jmx-api.html">JMX API per Member</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/jmx-monitoring.html">Monitoring with JMX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/rest-endpoint-groups.html">Using the REST Endpoint Groups</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/cluster-utilities.html">Cluster Utilities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/metrics.html">Metrics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/diagnostics.html">Diagnostics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/health-check-monitoring.html">Health Check and Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/management-center.html">Management Center</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/license-info.html">License Information</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../management/instance-tracking.html">Instance Tracking</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../security/security.html">Security</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/enabling-jaas.html">Enabling JAAS Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/socket-interceptor.html">Socket Interceptor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/security-interceptor.html">Security Interceptor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/encryption.html">Encryption</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/tls-ssl.html">TLS/SSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/integrating-openssl.html">Integrating OpenSSL / BoringSSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/tls-configuration.html">Other TLS related configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/validating-secrets.html">Validating Secrets Using Strength Policy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/security-realms.html">Security Realms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/jaas-authentication.html">JAAS authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/cluster-member-security.html">Cluster Member Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/default-authentication.html">Default authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/native-client-security.html">Native Client Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/logging-auditable-events.html">Logging Auditable Events</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/security-debugging.html">Security Debugging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/fips-140-2.html">FIPS 140-2</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../performance/performance.html">Performance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../performance/pipelining.html">Pipelining</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../performance/data-affinity.html">Data Affinity</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../performance/cpu-thread-affinity.html">CPU Thread Affinity</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../performance/running-on-ec2.html">Running on EC2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../performance/back-pressure.html">Back Pressure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../performance/threading-model.html">Threading Model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../performance/slowoperationdetector.html">SlowOperationDetector</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../performance/near-cache.html">Near Cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../performance/caching-deserialized-values.html">Caching Deserialized Values</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../simulator.html">Hazelcast Simulator</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../wan/wan.html">WAN Replication</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../wan/modes.html">WAN Replication Modes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../wan/quick-start.html">Quick Start</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../wan/defining-wan-replication.html">Configuring WAN Replication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../wan/configuring-for-map-and-cache.html">Configuring for IMap and ICache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../wan/advanced-features.html">Advanced Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../wan/tuning.html">Fine-Tuning WAN Replication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../wan/failures.html">Failure Detection and Recovery</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../wan/rest-api.html">REST API Wrap-Up</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../osgi/osgi.html">OSGI</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../osgi/osgi-support.html">OSGI Support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../osgi/api.html">API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../osgi/configuring-osgi-support.html">Configuring Hazelcast OSGI Support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../osgi/design.html">Design</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../osgi/using-osgi-service.html">Using Hazelcast OSGI Service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../extending-hazelcast/extending-hazelcast.html">Extending Hazelcast</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending-hazelcast/operationparker.html">OperationParker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending-hazelcast/discovery-spi.html">Discovery SPI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending-hazelcast/config-properties-spi.html">Config Properties SPI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../plugins/hazelcast-plugins.html">Hazelcast Plugins</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/cloud-discovery.html">Cloud Discovery Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/web-session-replication.html">Web Session Replication Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/framework-integration.html">Framework Integration Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/other-integrations.html">Other Integrations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../consistency-and-replication/consistency.html">Consistency and Replication Model</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../consistency-and-replication/replication-algorithm.html">Hazelcast&#8217;s Replication Algorithm</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../consistency-and-replication/invocation-lifecycle.html">Invocation Lifecycle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../consistency-and-replication/exactly-once-execution.html">Exactly-once, At-least-once or At-most-once Execution</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../consistency-and-replication/indeterminateoperationstateexception.html">IndeterminateOperationStateException</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../network-partitioning/network-partitioning.html">Network Partitioning</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../network-partitioning/dealing-with-network-partitions.html">Dealing with Network Partitions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../network-partitioning/split-brain-protection.html">Split-Brain Protection</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../network-partitioning/split-brain-recovery.html">Split-Brain Recovery</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../network-partitioning/partial-network-partitions.html">Partial Network Partitions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../system-properties.html">Appendix A: System Properties</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../migration-guides.html">Appendix B: Migration Guides</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../common-exception-types.html">Appendix C: Common Exception Types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../licenses.html">Appendix D: License Questions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../phone-homes.html">Appendix E: Phone Homes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../faq.html">Appendix F: Frequently Asked Questions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../revision-history.html">Appendix G: Document Revision History</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../glossary.html">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Hazelcast IMDG</span>
    <span class="version">4.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Hazelcast IMDG</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">4.1</a>
        </li>
        <li class="version">
          <a href="../../2.0.4/index.html">2.0.4</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Home</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../home/index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Hazelcast IMDG</a></li>
    <li><a href="integrated-clustering.html">Integrated Clustering</a></li>
    <li><a href="spring.html">Integration with Spring</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">4.1</button>
  <div class="version-menu">
    <a class="version is-current" href="spring.html">4.1</a>
    <a class="version is-missing" href="../../2.0.4/index.html">2.0.4</a>
  </div>
</div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Integration with Spring</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You can integrate Hazelcast with Spring and this section explains the
configuration of Hazelcast within Spring context.</p>
</div>
<div class="paragraph">
<p>Supported Versions are Spring 2.5 and higher releases and the latest
tested Spring version is 4.3.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Some old versions of Spring may require minor changes in
the Hazelcast configuration. The code and configuration snippets provided
in this section are tested using Spring 4.3.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-spring"><a class="anchor" href="#configuring-spring"></a>Configuring Spring</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Code Sample</strong>: See our <a href="https://github.com/hazelcast/hazelcast-code-samples/tree/master/hazelcast-integration/spring-configuration" target="_blank" rel="noopener">sample application</a>
for Spring Configuration.</p>
</div>
<div class="sect2">
<h3 id="enabling-spring-integration"><a class="anchor" href="#enabling-spring-integration"></a>Enabling Spring Integration</h3>
<div class="paragraph">
<p><em>Classpath Configuration:</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To enable Spring integration, either <code>hazelcast-spring-4.1.jar</code>
or <code>hazelcast-all-4.1.jar</code> must be in the classpath.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you use Maven, add the following lines to your <code>pom.xml</code>.</p>
</div>
<div class="paragraph">
<p>If you use <code>hazelcast-all.jar</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;
    &lt;artifactId&gt;hazelcast-all&lt;/artifactId&gt;
    &lt;version&gt;4.1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you use <code>hazelcast-spring.jar</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;
    &lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;
    &lt;version&gt;4.1&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you use other build systems, you have to adjust the definition of
dependencies to your needs.</p>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting"><a class="anchor" href="#troubleshooting"></a>Troubleshooting</h3>
<div class="paragraph">
<p>When the Spring Integration JARs are not correctly installed in the
Java classpath, you may see either of the following exceptions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>org.xml.sax.SAXParseException; systemId: http://hazelcast.com/schema/spring/hazelcast-spring.xsd; lineNumber: 2; columnNumber: 35; s4s-elt-character: Non-whitespace characters are not allowed in schema elements other than 'xs:appinfo' and 'xs:documentation'. Saw '301 Moved Permanently'.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.hazelcast.com/schema/spring]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>org.xml.sax.SAXParseException; lineNumber: 25; columnNumber: 33; schema_reference.4: Failed to read schema document 'http://www.hazelcast.com/schema/spring/hazelcast-spring.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, please ensure that the required classes are in the classpath,
as explained above.</p>
</div>
</div>
<div class="sect2">
<h3 id="declaring-beans-by-spring-beans-namespace"><a class="anchor" href="#declaring-beans-by-spring-beans-namespace"></a>Declaring Beans by Spring <strong>beans</strong> Namespace</h3>
<div class="paragraph">
<p><em>Bean Declaration:</em></p>
</div>
<div class="paragraph">
<p>You can declare Hazelcast Objects using the default Spring <strong>beans</strong> namespace.
Example code for a Hazelcast Instance declaration is listed below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="instance" class="com.hazelcast.core.Hazelcast" factory-method="newHazelcastInstance"&gt;
    &lt;constructor-arg&gt;
        &lt;bean class="com.hazelcast.config.Config"&gt;
            &lt;property name="clusterName" value="dev"/&gt;
            &lt;!-- and so on ... --&gt;
        &lt;/bean&gt;
    &lt;/constructor-arg&gt;
&lt;/bean&gt;

&lt;bean id="map" factory-bean="instance" factory-method="getMap"&gt;
    &lt;constructor-arg value="map"/&gt;
&lt;/bean&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="declaring-beans-by-hazelcast-namespace"><a class="anchor" href="#declaring-beans-by-hazelcast-namespace"></a>Declaring Beans by <strong>hazelcast</strong> Namespace</h3>
<div class="paragraph">
<p>Hazelcast has its own namespace <strong>hazelcast</strong> for bean definitions.
You can easily add the namespace declaration <strong>xmlns:hz="http://www.hazelcast.com/schema/spring"</strong>
to the <code>beans</code> element in the context file so that <strong>hz</strong> namespace shortcut can be
used as a bean declaration.</p>
</div>
<div class="paragraph">
<p>Here is an example schema definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:hz="http://www.hazelcast.com/schema/spring"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                http://www.springframework.org/schema/beans/spring-beans-4.3.xsd
                http://www.hazelcast.com/schema/spring
                http://www.hazelcast.com/schema/spring/hazelcast-spring.xsd"&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="supported-configurations-with-hazelcast-namespace"><a class="anchor" href="#supported-configurations-with-hazelcast-namespace"></a>Supported Configurations with <strong>hazelcast</strong> Namespace</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Configuring Hazelcast Instance</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:hazelcast id="instance"&gt;
    &lt;hz:config&gt;
        &lt;hz:cluster-name name="dev"/&gt;
        &lt;hz:network port="5701" port-auto-increment="false"&gt;
            &lt;hz:join&gt;
                &lt;hz:multicast enabled="false"
                    multicast-group="224.2.2.3"
                    multicast-port="54327"/&gt;
                &lt;hz:tcp-ip enabled="true"&gt;
                    &lt;hz:members&gt;10.10.1.2, 10.10.1.3&lt;/hz:members&gt;
                &lt;/hz:tcp-ip&gt;
            &lt;/hz:join&gt;
        &lt;/hz:network&gt;
        &lt;hz:map name="map"
            backup-count="2"
            read-backup-data="true"
            merge-policy="com.hazelcast.spi.merge.PassThroughMergePolicy"&gt;
            &lt;hz:eviction eviction-policy="NONE" size="0"/&gt;
        &lt;/hz:map&gt;
    &lt;/hz:config&gt;
&lt;/hz:hazelcast&gt;</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Configuring Hazelcast Client</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:client id="client"&gt;
    &lt;hz:cluster-name name="${cluster.name}"/&gt;
    &lt;hz:network connection-timeout="1000"
                redo-operation="true"
                smart-routing="true"&gt;
        &lt;hz:member&gt;10.10.1.2:5701&lt;/hz:member&gt;
        &lt;hz:member&gt;10.10.1.3:5701&lt;/hz:member&gt;
    &lt;/hz:network&gt;
&lt;/hz:client&gt;</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Hazelcast Supported Type Configurations and Examples</strong></p>
<div class="ulist">
<ul>
<li>
<p><code>map</code></p>
</li>
<li>
<p><code>multiMap</code></p>
</li>
<li>
<p><code>replicatedmap</code></p>
</li>
<li>
<p><code>queue</code></p>
</li>
<li>
<p><code>topic</code></p>
</li>
<li>
<p><code>reliableTopic</code></p>
</li>
<li>
<p><code>set</code></p>
</li>
<li>
<p><code>list</code></p>
</li>
<li>
<p><code>executorService</code></p>
</li>
<li>
<p><code>durableExecutorService</code></p>
</li>
<li>
<p><code>scheduledExecutorService</code></p>
</li>
<li>
<p><code>ringbuffer</code></p>
</li>
<li>
<p><code>cardinalityEstimator</code></p>
</li>
<li>
<p><code>idGenerator</code></p>
</li>
<li>
<p><code>flakeIdGenerator</code></p>
</li>
<li>
<p><code>atomicLong</code></p>
</li>
<li>
<p><code>atomicReference</code></p>
</li>
<li>
<p><code>semaphore</code></p>
</li>
<li>
<p><code>countDownLatch</code></p>
</li>
<li>
<p><code>lock</code></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:map id="map" instance-ref="client" name="map" lazy-init="true" /&gt;
&lt;hz:multiMap id="multiMap" instance-ref="instance" name="multiMap"
    lazy-init="false" /&gt;
&lt;hz:replicatedMap id="replicatedmap" instance-ref="instance"
    name="replicatedmap" lazy-init="false" /&gt;
&lt;hz:queue id="queue" instance-ref="client" name="queue"
    lazy-init="true" depends-on="instance"/&gt;
&lt;hz:topic id="topic" instance-ref="instance" name="topic"
    depends-on="instance, client"/&gt;
&lt;hz:reliableTopic id="reliableTopic" instance-ref="instance" name="reliableTopic"/&gt;
&lt;hz:set id="set" instance-ref="instance" name="set" /&gt;
&lt;hz:list id="list" instance-ref="instance" name="list"/&gt;
&lt;hz:executorService id="executorService" instance-ref="client"
    name="executorService"/&gt;
&lt;hz:durableExecutorService id="durableExec" instance-ref="instance" name="durableExec"/&gt;
&lt;hz:scheduledExecutorService id="scheduledExec" instance-ref="instance" name="scheduledExec"/&gt;
&lt;hz:ringbuffer id="ringbuffer" instance-ref="instance" name="ringbuffer"/&gt;
&lt;hz:cardinalityEstimator id="cardinalityEstimator" instance-ref="instance" name="cardinalityEstimator"/&gt;
&lt;hz:idGenerator id="idGenerator" instance-ref="instance"
    name="idGenerator"/&gt;
&lt;hz:flakeIdGenerator id="flakeIdGenerator" instance-ref="instance"
    name="flakeIdGenerator"/&gt;
&lt;hz:atomicLong id="atomicLong" instance-ref="instance" name="atomicLong"/&gt;
&lt;hz:atomicReference id="atomicReference" instance-ref="instance"
    name="atomicReference"/&gt;
&lt;hz:semaphore id="semaphore" instance-ref="instance" name="semaphore"/&gt;
&lt;hz:countDownLatch id="countDownLatch" instance-ref="instance"
    name="countDownLatch"/&gt;
&lt;hz:lock id="lock" instance-ref="instance" name="lock"/&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Supported Spring Bean Attributes</strong></p>
<div class="paragraph">
<p>Hazelcast also supports <code>lazy-init</code>, <code>scope</code> and <code>depends-on</code> bean attributes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:hazelcast id="instance" lazy-init="true" scope="singleton"&gt;
    ...
&lt;/hz:hazelcast&gt;
&lt;hz:client id="client" scope="prototype" depends-on="instance"&gt;
    ...
&lt;/hz:client&gt;</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Configuring MapStore and NearCache</strong></p>
<div class="paragraph">
<p>For map-store, you should set either the <strong>class-name</strong> or the <strong>implementation</strong> attribute.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:config id="config"&gt;
    &lt;hz:map name="map1"&gt;
        &lt;hz:map-store enabled="true" class-name="com.foo.DummyStore"
            write-delay-seconds="0" /&gt;

        &lt;hz:near-cache time-to-live-seconds="0"
            max-idle-seconds="60" invalidate-on-change="true" &gt;
            &lt;hz:eviction eviction-policy="LRU" size="5000"/&gt;
        &lt;/hz:near-cache&gt;
    &lt;/hz:map&gt;

    &lt;hz:map name="map2"&gt;
        &lt;hz:map-store enabled="true" implementation="dummyMapStore"
            write-delay-seconds="0" /&gt;
    &lt;/hz:map&gt;
&lt;/hz:config&gt;

&lt;bean id="dummyMapStore" class="com.foo.DummyStore" /&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enabling-springaware-objects"><a class="anchor" href="#enabling-springaware-objects"></a>Enabling SpringAware Objects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can mark Hazelcast Distributed Objects with @SpringAware if the object wants to apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>bean properties</p>
</li>
<li>
<p>factory callbacks such as <code>ApplicationContextAware</code>, <code>BeanNameAware</code></p>
</li>
<li>
<p>bean post-processing annotations such as <code>InitializingBean</code>, <code>@PostConstruct</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Hazelcast Distributed <code>ExecutorService</code>, or more generally any
Hazelcast managed object, can benefit from these features. To enable
SpringAware objects, you must first configure <code>HazelcastInstance</code> using
<strong>hazelcast</strong> namespace as explained in <a href="#configuring-spring">Configuring Spring</a>
and add <code>&lt;hz:spring-aware /&gt;</code> tag.</p>
</div>
<div class="sect2">
<h3 id="springaware-examples"><a class="anchor" href="#springaware-examples"></a>SpringAware Examples</h3>
<div class="ulist">
<ul>
<li>
<p>Configure a Hazelcast Instance via Spring Configuration and define <strong>someBean</strong> as Spring Bean.</p>
</li>
<li>
<p>Add <code>&lt;hz:spring-aware /&gt;</code> to Hazelcast configuration to enable @SpringAware.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:hz="http://www.hazelcast.com/schema/spring"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                http://www.springframework.org/schema/context
                http://www.springframework.org/schema/context/spring-context-3.0.xsd
                http://www.hazelcast.com/schema/spring
                http://www.hazelcast.com/schema/spring/hazelcast-spring.xsd"&gt;

    &lt;context:component-scan base-package="..."/&gt;

    &lt;hz:hazelcast id="instance"&gt;
        &lt;hz:config&gt;
            &lt;hz:spring-aware /&gt;
            &lt;hz:cluster-name name="dev"/&gt;
            &lt;hz:network port="5701" port-auto-increment="false"&gt;
                &lt;hz:join&gt;
                    &lt;hz:multicast enabled="false" /&gt;
                    &lt;hz:tcp-ip enabled="true"&gt;
                        &lt;hz:members&gt;10.10.1.2, 10.10.1.3&lt;/hz:members&gt;
                    &lt;/hz:tcp-ip&gt;
                &lt;/hz:join&gt;
            &lt;/hz:network&gt;
            ...
        &lt;/hz:config&gt;
    &lt;/hz:hazelcast&gt;

    &lt;bean id="someBean" class="com.hazelcast.examples.spring.SomeBean"
      scope="singleton" /&gt;
    ...
&lt;/beans&gt;</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Distributed Map SpringAware Example:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a class called <code>SomeValue</code> which contains Spring Bean definitions
like <code>ApplicationContext</code> and <code>SomeBean</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@SpringAware
@Component("someValue")
@Scope("prototype")
public class SomeValue implements Serializable, ApplicationContextAware {

    private transient ApplicationContext context;
    private transient SomeBean someBean;
    private transient boolean init = false;

    public void setApplicationContext( ApplicationContext applicationContext )
        throws BeansException {
        context = applicationContext;
    }

    @Autowired
    public void setSomeBean( SomeBean someBean)  {
        this.someBean = someBean;
    }

    @PostConstruct
    public void init() {
        someBean.doSomethingUseful();
        init = true;
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Get <code>SomeValue</code> Object from Context and put it into Hazelcast Distributed Map
on the first member.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">HazelcastInstance hazelcastInstance =
    (HazelcastInstance) context.getBean( "instance" );
SomeValue value = (SomeValue) context.getBean( "someValue" );
IMap&lt;String, SomeValue&gt; map = hazelcastInstance.getMap( "values" );
map.put( "key", value );</code></pre>
</div>
</div>
</li>
<li>
<p>Read <code>SomeValue</code> Object from Hazelcast Distributed Map and assert
that <code>init</code> method is called since it is annotated with <code>@PostConstruct</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">HazelcastInstance hazelcastInstance =
    (HazelcastInstance) context.getBean( "instance" );
IMap&lt;String, SomeValue&gt; map = hazelcastInstance.getMap( "values" );
SomeValue value = map.get( "key" );
Assert.assertTrue( value.init );</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>ExecutorService SpringAware Example:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a Callable Class called SomeTask which contains
Spring Bean definitions like <code>ApplicationContext</code>, <code>SomeBean</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@SpringAware
public class SomeTask
    implements Callable&lt;Long&gt;, ApplicationContextAware, Serializable {

    private transient ApplicationContext context;
    private transient SomeBean someBean;

    public Long call() throws Exception {
        return someBean.value;
    }

    public void setApplicationContext( ApplicationContext applicationContext )
        throws BeansException {
        context = applicationContext;
    }

    @Autowired
    public void setSomeBean( SomeBean someBean ) {
        this.someBean = someBean;
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Submit <code>SomeTask</code> to two Hazelcast Members and assert that <code>someBean</code> is autowired.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">HazelcastInstance hazelcastInstance =
    (HazelcastInstance) context.getBean( "instance" );
SomeBean bean = (SomeBean) context.getBean( "someBean" );

Future&lt;Long&gt; f = hazelcastInstance.getExecutorService("executorService")
    .submit(new SomeTask());
Assert.assertEquals(bean.value, f.get().longValue());

// choose a member
Member member = hazelcastInstance.getCluster().getMembers().iterator().next();

Future&lt;Long&gt; f2 = (Future&lt;Long&gt;) hazelcast.getExecutorService("executorService")
    .submitToMember(new SomeTask(), member);
Assert.assertEquals(bean.value, f2.get().longValue());</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Spring managed properties/fields are marked as <code>transient</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-caching-to-spring"><a class="anchor" href="#adding-caching-to-spring"></a>Adding Caching to Spring</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Code Sample</strong>: See the sample application for
<a href="https://github.com/hazelcast/hazelcast-code-samples/tree/master/hazelcast-integration/spring-cache-manager" target="_blank" rel="noopener">Spring Cache</a>.</p>
</div>
<div class="paragraph">
<p>As of version 3.1, Spring Framework provides support for adding caching
into an existing Spring application. Spring 3.2 and later versions support
JCache compliant caching providers. You can also use JCache caching
backed by Hazelcast if your Spring version supports JCache.</p>
</div>
<div class="sect2">
<h3 id="declarative-spring-cache-configuration"><a class="anchor" href="#declarative-spring-cache-configuration"></a>Declarative Spring Cache Configuration</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;cache:annotation-driven cache-manager="cacheManager" /&gt;

&lt;hz:hazelcast id="instance"&gt;
    ...
&lt;/hz:hazelcast&gt;

&lt;bean id="cacheManager" class="com.hazelcast.spring.cache.HazelcastCacheManager"&gt;
    &lt;constructor-arg ref="instance"/&gt;
&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hazelcast uses its Map implementation for underlying cache.
You can configure a map with your cache&#8217;s name if you want to set
additional configuration such as <code>ttl</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;cache:annotation-driven cache-manager="cacheManager" /&gt;

&lt;hz:hazelcast id="instance"&gt;
    &lt;hz:config&gt;
        ...

        &lt;hz:map name="city" time-to-live-seconds="0" in-memory-format="BINARY" /&gt;
    &lt;/hz:config&gt;
&lt;/hz:hazelcast&gt;

&lt;bean id="cacheManager" class="com.hazelcast.spring.cache.HazelcastCacheManager"&gt;
    &lt;constructor-arg ref="instance"/&gt;
&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface IDummyBean {
    @Cacheable("city")
    String getCity();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="defining-timeouts-for-cache-read-operation"><a class="anchor" href="#defining-timeouts-for-cache-read-operation"></a>Defining Timeouts for Cache Read Operation</h3>
<div class="paragraph">
<p>You can define a timeout value for the get operations from your Spring cache.
This may be useful for some cases, such as SLA requirements. Hazelcast
provides a property to specify this timeout: <code>hazelcast.spring.cache.prop</code>.
This can be specified as a Java property (using <code>-D</code>) or you can add this
property to your Spring properties file (usually named as <code>application.properties</code>).</p>
</div>
<div class="paragraph">
<p>An example usage is given below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>hazelcast.spring.cache.prop=defaultReadTimeout=2,cache1=10,cache2=20</code></pre>
</div>
</div>
<div class="paragraph">
<p>The argument <code>defaultReadTimeout</code> applies to all of your Spring caches.
If you want to define different timeout values for some specific Spring
caches, you can provide them as a comma separated list as shown in the
above example usage. The values are in milliseconds. If you want to have
no timeout for a cache, simply set it to <code>0</code> or a negative value.</p>
</div>
</div>
<div class="sect2">
<h3 id="declarative-hazelcast-jcache-based-caching-configuration"><a class="anchor" href="#declarative-hazelcast-jcache-based-caching-configuration"></a>Declarative Hazelcast JCache Based Caching Configuration</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;cache:annotation-driven cache-manager="cacheManager" /&gt;

&lt;hz:hazelcast id="instance"&gt;
    ...
&lt;/hz:hazelcast&gt;

&lt;hz:cache-manager id="hazelcastJCacheCacheManager" instance-ref="instance" name="hazelcastJCacheCacheManager"/&gt;

&lt;bean id="cacheManager" class="org.springframework.cache.jcache.JCacheCacheManager"&gt;
    &lt;constructor-arg ref="hazelcastJCacheCacheManager" /&gt;
&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use JCache implementation in both member and client mode.
A cache manager should be bound to an instance. Instance can be referenced
by <code>instance-ref</code> attribute or provided by <code>hazelcast.instance.name</code>
property which is passed to CacheManager. Instance should be specified
using one of these methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Instance name provided in properties overrides <code>instance-ref</code> attribute.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can specify an URI for each cache manager with <code>uri</code> attribute.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;hz:cache-manager id="cacheManager2" name="cacheManager2" uri="testURI"&gt;
    &lt;hz:properties&gt;
        &lt;hz:property name="hazelcast.instance.name"&gt;named-spring-hz-instance&lt;/hz:property&gt;
        &lt;hz:property name="testProperty"&gt;testValue&lt;/hz:property&gt;
    &lt;/hz:properties&gt;
&lt;/hz:cache-manager&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="annotation-based-spring-cache-configuration"><a class="anchor" href="#annotation-based-spring-cache-configuration"></a>Annotation-Based Spring Cache Configuration</h3>
<div class="paragraph">
<p>Annotation-Based Configuration does not require any XML definition.
To perform Annotation-Based Configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implement a <code>CachingConfiguration</code> class with related Annotations.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
@EnableCaching
public class CachingConfiguration extends CachingConfigurerSupport {
    @Bean
    public CacheManager cacheManager() {
        ClientConfig config = new ClientConfig();
        HazelcastInstance client = HazelcastClient.newHazelcastClient(config);
        return new com.hazelcast.spring.cache.HazelcastCacheManager(client);
    }
    @Bean
    public KeyGenerator keyGenerator() {
        return null;
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>Launch Application Context and register <code>CachingConfiguration</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext();
context.register(CachingConfiguration.class);
context.refresh();</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about Spring Cache, see
<a href="http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/cache.html" target="_blank" rel="noopener">Spring Cache Abstraction</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-hibernate-second-level-cache"><a class="anchor" href="#configuring-hibernate-second-level-cache"></a>Configuring Hibernate Second Level Cache</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Code Sample</strong>: See the <a href="https://github.com/hazelcast/hazelcast-code-samples/tree/master/hazelcast-integration/spring-hibernate-2ndlevel-cache" target="_blank" rel="noopener">sample application</a>
for Hibernate 2nd Level Cache configuration.</p>
</div>
<div class="paragraph">
<p>If you are using Hibernate with Hazelcast as a second level cache provider, you can easily configure your
<code>LocalSessionFactoryBean</code> to use a Hazelcast instance by passing Hazelcast instance name. That way, you can use the
same <code>HazelcastInstance</code> as Hibernate L2 cache instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">...
&lt;bean id="sessionFactory"
      class="org.springframework.orm.hibernate3.LocalSessionFactoryBean"
	  scope="singleton"&gt;
    &lt;property name="dataSource" ref="dataSource"/&gt;
    &lt;property name="hibernateProperties"&gt;
        &lt;props&gt;
            ...
            &lt;prop key="hibernate.cache.region.factory_class"&gt;com.hazelcast.hibernate.HazelcastLocalCacheRegionFactory&lt;/prop&gt;
            &lt;prop key="hibernate.cache.hazelcast.instance_name"&gt;${hz.instance.name}&lt;/prop&gt;
        &lt;/props&gt;
    &lt;/property&gt;
    ...
&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Hibernate RegionFactory Classes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>com.hazelcast.hibernate.HazelcastLocalCacheRegionFactory</code></p>
</li>
<li>
<p><code>com.hazelcast.hibernate.HazelcastCacheRegionFactory</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/hazelcast/hazelcast-hibernate#configuring-regionfactory" target="_blank" rel="noopener">Configuring RegionFactory section</a>
in the Hazelcast Hibernate GitHub repository for more information.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-hazelcast-transaction-manager"><a class="anchor" href="#configuring-hazelcast-transaction-manager"></a>Configuring Hazelcast Transaction Manager</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Code Sample</strong>: See the <a href="https://github.com/hazelcast/hazelcast-code-samples/tree/master/hazelcast-integration/spring-transaction-manager" target="_blank" rel="noopener">sample application</a>
for Hazelcast Transaction Manager in our code samples repository.</p>
</div>
<div class="paragraph">
<p>You can get rid of the boilerplate code to begin, commit or rollback
transactions by using <a href="https://docs.hazelcast.org/docs/{version}/javadoc/com/hazelcast/spring/transaction/HazelcastTransactionManager.html" target="_blank" rel="noopener">HazelcastTransactionManager</a>
which is a <code>PlatformTransactionManager</code> implementation to be used
with Spring Transaction API.</p>
</div>
<div class="sect2">
<h3 id="example-configuration-for-hazelcast-transaction-manager"><a class="anchor" href="#example-configuration-for-hazelcast-transaction-manager"></a>Example Configuration for Hazelcast Transaction Manager</h3>
<div class="paragraph">
<p>You need to register <code>HazelcastTransactionManager</code> as your
transaction manager implementation and also you need to
register <a href="https://docs.hazelcast.org/docs/{version}/javadoc/com/hazelcast/spring/transaction/ManagedTransactionalTaskContext.html" target="_blank" rel="noopener">ManagedTransactionalTaskContext</a>
to access transactional data structures within your service class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">...
&lt;hz:hazelcast id="instance"&gt;
    ...
&lt;/hz:hazelcast&gt;
...
&lt;tx:annotation-driven transaction-manager="transactionManager"/&gt;
&lt;bean id="transactionManager" class="com.hazelcast.spring.transaction.HazelcastTransactionManager"&gt;
    &lt;constructor-arg ref="instance"/&gt;
&lt;/bean&gt;
&lt;bean id="transactionalContext" class="com.hazelcast.spring.transaction.ManagedTransactionalTaskContext"&gt;
    &lt;constructor-arg ref="transactionManager"/&gt;
&lt;/bean&gt;
&lt;bean id="YOUR_SERVICE" class="YOUR_SERVICE_CLASS"&gt;
    &lt;property name="transactionalTaskContext" ref="transactionalContext"/&gt;
&lt;/bean&gt;
...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="example-transactional-method"><a class="anchor" href="#example-transactional-method"></a>Example Transactional Method</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ServiceWithTransactionalMethod {

    private TransactionalTaskContext transactionalTaskContext;

    @Transactional
    public void transactionalPut(String key, String value) {
        transactionalTaskContext.getMap("testMap").put(key, value);
    }

    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After marking your method as <code>Transactional</code> either declaratively
or by annotation and accessing the data structure
through the <code>TransactionalTaskContext</code>, <code>HazelcastTransactionManager</code>
begins, commits or rollbacks the transaction for you.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best-practices"><a class="anchor" href="#best-practices"></a>Best Practices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring tries to create a new <code>Map</code>/<code>Collection</code> instance and fill
the new instance by iterating and converting values of the original
<code>Map</code>/<code>Collection</code> (<code>IMap</code>, <code>IQueue</code>, etc.) to required types when generic
type parameters of the original <code>Map</code>/<code>Collection</code> and the target property/attribute do not match.</p>
</div>
<div class="paragraph">
<p>Since Hazelcast <code>Map</code>s/<code>Collection</code>s are designed to hold very large
data which a single machine cannot carry, iterating through whole values can cause out of memory errors.</p>
</div>
<div class="paragraph">
<p>To avoid this issue, the target property/attribute can be declared as
un-typed <code>Map</code>/<code>Collection</code> as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class SomeBean {
    @Autowired
    IMap map; // instead of IMap&lt;K, V&gt; map

    @Autowired
    IQueue queue; // instead of IQueue&lt;E&gt; queue
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, parameters of injection methods (constructor, setter) can be un-typed as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class SomeBean {

    IMap&lt;K, V&gt; map;
    IQueue&lt;E&gt; queue;

    // Instead of IMap&lt;K, V&gt; map
    public SomeBean(IMap map) {
        this.map = map;
    }

    ...

    // Instead of IQueue&lt;E&gt; queue
    public void setQueue(IQueue queue) {
        this.queue = queue;
    }
    ...
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="https://jira.springsource.org/browse/SPR-3407" target="_blank" rel="noopener">Spring issue-3407</a> for more information.
</td>
</tr>
</table>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="javaee.html">Integration with Java EE</a></span>
  <span class="next"><a href="../storage/storage.html">Storage</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="1">
  <div class="toc-menu">
  </div>
  </br>
<div id="feedback-prompt">
  <h3>Was this page helpful?</h3>
  <a href="#yes-feedback" id="yes-button"><i class="far fa-check-circle"></i>  Yes </a>
  <a href="#no-feedback" id="no-button"><i class="far fa-times-circle"></i>  No </a>
</div>
<div id="feedback-response">
<p class="feedback-response">Thanks for the feedback!</p>
</div>
<div class="additional-feedback"><a href="https://github.com/JakeSCahill/hazelcast-reference-manual/issues/new?title=Docs: Feedback for Integration with Spring&body=Hi, I have some feedback about [this page](https://github.com/JakeSCahill/hazelcast-reference-manual/edit/v4.1/docs/modules/integrated-clustering/pages/spring.adoc)%0D%0A" class ="git" target="_blank">Report an issue</a></div>
  <div class="edit-this-page"><a class="git-pull" href="https://github.com/JakeSCahill/hazelcast-reference-manual/edit/v4.1/docs/modules/integrated-clustering/pages/spring.adoc" onclick="window.open(this.href,'_blank');return false;">Edit this Page</a></div>
<div class="edit-this-page"><a href="https://www.surveymonkey.co.uk/r/NYGJNF9" class="survey" onclick="window.open(this.href,'_blank');return false;">Take our Survey</a></div>

</aside>
  </div>
</main>

</div>
<footer class="footer">
  <a>Terms of service</a>
  <a>Privacy</a>
  <a>Contact us</a>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<!-- Before the closing </body> -->
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  docsearch({
    // Your apiKey and indexName will be given to you once
    // we create your config
    apiKey: 'ef7bd9485eafbd75d6e8425949eda1f5',
    indexName: 'dev_docs',
    appId: 'QK2EAH8GB0', // Should be only included if you are running DocSearch on your own.
    // Replace inputSelector with a CSS selector
    // matching your search input
    inputSelector: '#search-input',
    // Set debug to true to inspect the dropdown
    debug: false,
  });
</script>
  </body>
</html>
